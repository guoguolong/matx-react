import{az as w,aA as h,aB as x,c as N,r as D,aC as L}from"./index.b42ef678.js";var v={},p={},C={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=1,e=function(){return"".concat(n++)};r.default=e})(C);var _={},b={},E={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,o=null;return function(){for(var u=this,d=arguments.length,c=new Array(d),a=0;a<d;a++)c[a]=arguments[a];clearTimeout(o),o=setTimeout(function(){t.apply(u,c)},i)}};r.default=n})(E);var f={};Object.defineProperty(f,"__esModule",{value:!0});f.SensorTabIndex=f.SensorClassName=f.SizeSensorId=void 0;var A="size-sensor-id";f.SizeSensorId=A;var j="size-sensor-object";f.SensorClassName=j;var P="-1";f.SensorTabIndex=P;Object.defineProperty(b,"__esModule",{value:!0});b.createSensor=void 0;var T=$(E),O=f;function $(r){return r&&r.__esModule?r:{default:r}}var U=function(n){var e=void 0,t=[],i=function(){getComputedStyle(n).position==="static"&&(n.style.position="relative");var s=document.createElement("object");return s.onload=function(){s.contentDocument.defaultView.addEventListener("resize",o),o()},s.style.display="block",s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.height="100%",s.style.width="100%",s.style.overflow="hidden",s.style.pointerEvents="none",s.style.zIndex="-1",s.style.opacity="0",s.setAttribute("class",O.SensorClassName),s.setAttribute("tabindex",O.SensorTabIndex),s.type="text/html",n.appendChild(s),s.data="about:blank",s},o=(0,T.default)(function(){t.forEach(function(a){a(n)})}),u=function(s){e||(e=i()),t.indexOf(s)===-1&&t.push(s)},d=function(){e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",o),e.parentNode.removeChild(e),e=void 0,t=[])},c=function(s){var l=t.indexOf(s);l!==-1&&t.splice(l,1),t.length===0&&e&&d()};return{element:n,bind:u,destroy:d,unbind:c}};b.createSensor=U;var g={};Object.defineProperty(g,"__esModule",{value:!0});g.createSensor=void 0;var q=B(E);function B(r){return r&&r.__esModule?r:{default:r}}var V=function(n){var e=void 0,t=[],i=(0,q.default)(function(){t.forEach(function(a){a(n)})}),o=function(){var s=new ResizeObserver(i);return s.observe(n),i(),s},u=function(s){e||(e=o()),t.indexOf(s)===-1&&t.push(s)},d=function(){e.disconnect(),t=[],e=void 0},c=function(s){var l=t.indexOf(s);l!==-1&&t.splice(l,1),t.length===0&&e&&d()};return{element:n,bind:u,destroy:d,unbind:c}};g.createSensor=V;Object.defineProperty(_,"__esModule",{value:!0});_.createSensor=void 0;var F=b,K=g,W=typeof ResizeObserver<"u"?K.createSensor:F.createSensor;_.createSensor=W;Object.defineProperty(p,"__esModule",{value:!0});p.removeSensor=p.getSensor=void 0;var k=H(C),G=_,S=f;function H(r){return r&&r.__esModule?r:{default:r}}var y={},J=function(n){var e=n.getAttribute(S.SizeSensorId);if(e&&y[e])return y[e];var t=(0,k.default)();n.setAttribute(S.SizeSensorId,t);var i=(0,G.createSensor)(n);return y[t]=i,i};p.getSensor=J;var Q=function(n){var e=n.element.getAttribute(S.SizeSensorId);n.element.removeAttribute(S.SizeSensorId),n.destroy(),e&&y[e]&&delete y[e]};p.removeSensor=Q;Object.defineProperty(v,"__esModule",{value:!0});v.ver=R=v.clear=M=v.bind=void 0;var z=p,X=function(n,e){var t=(0,z.getSensor)(n);return t.bind(e),function(){t.unbind(e)}},M=v.bind=X,Y=function(n){var e=(0,z.getSensor)(n);(0,z.removeSensor)(e)},R=v.clear=Y,Z="1.0.1";v.ver=Z;function I(r,n){var e={};return n.forEach(function(t){e[t]=r[t]}),e}function m(r){return typeof r=="function"}function ee(r){return typeof r=="string"}var te=function(r){w(n,r);function n(e){var t=r.call(this,e)||this;return t.echarts=e.echarts,t.ele=null,t.isInitialResize=!0,t}return n.prototype.componentDidMount=function(){this.renderNewEcharts()},n.prototype.componentDidUpdate=function(e){var t=this.props.shouldSetOption;if(!(m(t)&&!t(e,this.props))){if(!h(e.theme,this.props.theme)||!h(e.opts,this.props.opts)||!h(e.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var i=["option","notMerge","lazyUpdate","showLoading","loadingOption"];h(I(this.props,i),I(e,i))||this.updateEChartsOption(),(!h(e.style,this.props.style)||!h(e.className,this.props.className))&&this.resize()}},n.prototype.componentWillUnmount=function(){this.dispose()},n.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},n.prototype.dispose=function(){if(this.ele){try{R(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}},n.prototype.renderNewEcharts=function(){var e=this,t=this.props,i=t.onEvents,o=t.onChartReady,u=this.updateEChartsOption();this.bindEvents(u,i||{}),m(o)&&o(u),this.ele&&M(this.ele,function(){e.resize()})},n.prototype.bindEvents=function(e,t){function i(u,d){ee(u)&&m(d)&&e.on(u,function(c){d(c,e)})}for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&i(o,t[o])},n.prototype.updateEChartsOption=function(){var e=this.props,t=e.option,i=e.notMerge,o=i===void 0?!1:i,u=e.lazyUpdate,d=u===void 0?!1:u,c=e.showLoading,a=e.loadingOption,s=a===void 0?null:a,l=this.getEchartsInstance();return l.setOption(t,o,d),c?l.showLoading(s):l.hideLoading(),l},n.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize()}catch(t){console.warn(t)}this.isInitialResize=!1},n.prototype.render=function(){var e=this,t=this.props,i=t.style,o=t.className,u=o===void 0?"":o,d=x({height:300},i);return N("div",{ref:function(c){e.ele=c},style:d,className:"echarts-for-react "+u})},n}(D.exports.PureComponent),re=function(r){w(n,r);function n(e){var t=r.call(this,e)||this;return t.echarts=L,t}return n}(te);export{re as E};
